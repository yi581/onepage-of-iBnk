@custom-variant dark (&:is(.dark *));

:root {
  /* Design System Tokens - Black & White Only */
  --bg-base: #000000;
  --bg-section: rgba(255, 255, 255, 0.02);
  --bg-card: rgba(255, 255, 255, 0.05);
  
  --space-64: 4rem;
  --space-48: 3rem;
  --space-32: 2rem;
  --space-24: 1.5rem;
  --space-16: 1rem;
  --space-12: 0.75rem;
  --space-8: 0.5rem;
  
  --shadow-soft: 0 2px 8px rgba(0, 0, 0, 0.1);
  --shadow-depth: 0 8px 24px rgba(0, 0, 0, 0.2);
  
  --ease-standard: cubic-bezier(0.4, 0, 0.2, 1);
  --dur-fast: 150ms;
  --dur-med: 300ms;
  --dur-slow: 500ms;

  --font-size: 16px;
}

@keyframes wave {
  0%, 100% {
    transform: translateX(-10%) translateY(-10%) rotate(0deg) scale(1.1);
    filter: blur(60px) hue-rotate(0deg);
  }
  50% {
    transform: translateX(10%) translateY(10%) rotate(5deg) scale(1.15);
    filter: blur(80px) hue-rotate(30deg);
  }
}

@keyframes wave-reverse {
  0%, 100% {
    transform: translateX(10%) translateY(10%) rotate(0deg) scale(1.1);
    filter: blur(60px) hue-rotate(0deg);
  }
  50% {
    transform: translateX(-10%) translateY(-10%) rotate(-5deg) scale(1.15);
    filter: blur(80px) hue-rotate(-30deg);
  }
}

/* 动态径向渐变，缓慢漂移 */
@keyframes gradientDrift {
  0%   { background-position: 0px 0px, 0px 0px, 0px 0px; }
  50%  { background-position: 20px -10px, -15px 10px, 10px -20px; }
  100% { background-position: -20px 10px, 15px -10px, -10px 20px; }
}

/* 噪点纹理移动 */
@keyframes noiseShift {
  0%   { transform: translate3d(0,0,0); }
  100% { transform: translate3d(-10px,10px,0); }
}

.animated-gradient {
  background: radial-gradient(60% 40% at 20% 20%, #1e293b 0%, transparent 60%),
              radial-gradient(40% 30% at 80% 30%, #0ea5e9 0%, transparent 55%),
              radial-gradient(50% 40% at 50% 80%, #22d3ee 0%, transparent 60%),
              #0b0f17;
  animation: gradientDrift 18s ease-in-out infinite alternate;
  filter: saturate(110%);
}

/* 噪点纹理（base64 内联，避免外部请求） */
.noise-overlay {
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="120" height="120" viewBox="0 0 120 120"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="2" stitchTiles="stitch"/></filter><rect width="120" height="120" filter="url(%23n)" opacity="0.5"/></svg>');
  background-size: 300px 300px;
  animation: noiseShift 1.6s steps(2) infinite;
}

/* 网格线条遮罩（超轻量几何质感） */
.grid-mask::before {
  content: "";
  position: absolute;
  inset: 0;
  background-image:
    linear-gradient(to right, rgba(255,255,255,0.05) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(255,255,255,0.05) 1px, transparent 1px);
  background-size: 48px 48px;
  mask-image: radial-gradient(120% 80% at 50% 50%, black 40%, transparent 75%);
  pointer-events: none;
}

/* 全球地图轮廓 */
.world-map-overlay {
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 600"><g fill="none" stroke="rgba(255,255,255,0.1)" stroke-width="0.5"><path d="M200,150 Q250,120 300,140 T400,130 L450,145 Q500,135 550,150 M550,150 L600,140 L650,155 M100,200 Q150,180 200,190 L250,185 M750,100 Q800,90 850,105 L900,95 M150,300 Q200,280 250,295 L300,285 Q350,275 400,290 M500,250 L550,240 Q600,235 650,245 M700,200 L750,210 Q800,205 850,215 M200,350 L250,340 Q300,345 350,335 M450,380 Q500,370 550,385 L600,375 M100,400 L150,390 Q200,395 250,385"/><circle cx="780" cy="250" r="40"/><circle cx="650" cy="380" r="35"/><ellipse cx="350" cy="450" rx="60" ry="40"/><path d="M100,100 L120,95 L140,105 L160,100 L180,110 M850,300 L870,295 Q890,300 910,290 L930,295"/></g></svg>');
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
}

/* 星点背景 */
.stars-background {
  background-image: 
    radial-gradient(1px 1px at 20% 30%, white, transparent),
    radial-gradient(1px 1px at 60% 70%, white, transparent),
    radial-gradient(1px 1px at 50% 50%, white, transparent),
    radial-gradient(1px 1px at 80% 10%, white, transparent),
    radial-gradient(1px 1px at 90% 60%, white, transparent),
    radial-gradient(1px 1px at 33% 80%, white, transparent),
    radial-gradient(1px 1px at 15% 90%, white, transparent),
    radial-gradient(1px 1px at 75% 85%, white, transparent);
  background-size: 200% 200%;
  background-position: 0% 0%;
  animation: starsTwinkle 8s ease-in-out infinite;
}

@keyframes starsTwinkle {
  0%, 100% { 
    opacity: 0.3;
    background-position: 0% 0%;
  }
  50% { 
    opacity: 0.8;
    background-position: 100% 100%;
  }
}

/* 多层星点效果 - 更密集和自然 */
.stars-layer-1 {
  position: absolute;
  inset: 0;
  background-image: 
    radial-gradient(2px 2px at 10% 20%, white, transparent),
    radial-gradient(1px 1px at 25% 35%, white, transparent),
    radial-gradient(1px 1px at 40% 15%, white, transparent),
    radial-gradient(2px 2px at 55% 45%, white, transparent),
    radial-gradient(1px 1px at 70% 25%, white, transparent),
    radial-gradient(1px 1px at 85% 55%, white, transparent),
    radial-gradient(1px 1px at 15% 65%, white, transparent),
    radial-gradient(2px 2px at 30% 80%, white, transparent),
    radial-gradient(1px 1px at 60% 70%, white, transparent),
    radial-gradient(1px 1px at 80% 85%, white, transparent),
    radial-gradient(1px 1px at 5% 50%, white, transparent),
    radial-gradient(1px 1px at 45% 60%, white, transparent),
    radial-gradient(2px 2px at 90% 30%, white, transparent),
    radial-gradient(1px 1px at 35% 5%, white, transparent),
    radial-gradient(1px 1px at 65% 90%, white, transparent);
  background-size: 200% 200%;
  animation: starsFloat 20s linear infinite;
  opacity: 0.6;
}

.stars-layer-2 {
  position: absolute;
  inset: 0;
  background-image: 
    radial-gradient(1px 1px at 20% 10%, white, transparent),
    radial-gradient(1px 1px at 35% 40%, white, transparent),
    radial-gradient(1px 1px at 50% 25%, white, transparent),
    radial-gradient(1px 1px at 65% 55%, white, transparent),
    radial-gradient(1px 1px at 80% 20%, white, transparent),
    radial-gradient(1px 1px at 10% 75%, white, transparent),
    radial-gradient(1px 1px at 40% 85%, white, transparent),
    radial-gradient(1px 1px at 75% 70%, white, transparent),
    radial-gradient(1px 1px at 90% 45%, white, transparent),
    radial-gradient(1px 1px at 15% 30%, white, transparent),
    radial-gradient(1px 1px at 55% 10%, white, transparent),
    radial-gradient(1px 1px at 25% 60%, white, transparent);
  background-size: 250% 250%;
  animation: starsFloat 30s linear infinite reverse;
  opacity: 0.4;
}

.stars-layer-3 {
  position: absolute;
  inset: 0;
  background-image: 
    radial-gradient(1px 1px at 12% 18%, white, transparent),
    radial-gradient(1px 1px at 28% 48%, white, transparent),
    radial-gradient(1px 1px at 45% 32%, white, transparent),
    radial-gradient(1px 1px at 62% 68%, white, transparent),
    radial-gradient(1px 1px at 78% 15%, white, transparent),
    radial-gradient(1px 1px at 8% 82%, white, transparent),
    radial-gradient(1px 1px at 38% 92%, white, transparent),
    radial-gradient(1px 1px at 72% 75%, white, transparent),
    radial-gradient(1px 1px at 88% 52%, white, transparent),
    radial-gradient(1px 1px at 18% 38%, white, transparent);
  background-size: 300% 300%;
  animation: starsTwinkle 15s ease-in-out infinite;
  opacity: 0.3;
}

@keyframes starsFloat {
  0% { 
    transform: translate(0, 0);
  }
  100% { 
    transform: translate(-10px, -10px);
  }
}

/* 球体地图纹理 */
.world-map-sphere {
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200"><g fill="rgba(255,255,255,0.3)" stroke="none"><ellipse cx="100" cy="100" rx="80" ry="40" opacity="0.2"/><ellipse cx="100" cy="100" rx="40" ry="80" opacity="0.2"/><path d="M50,100 Q70,80 90,100 T130,100 Q145,90 150,100" stroke="rgba(255,255,255,0.4)" stroke-width="1" fill="none"/><circle cx="120" cy="70" r="15" opacity="0.3"/><circle cx="70" cy="120" r="12" opacity="0.3"/><circle cx="140" cy="130" r="10" opacity="0.3"/></g></svg>');
  background-size: cover;
  background-position: center;
}

.animate-wave {
  animation: wave 20s ease-in-out infinite;
}

.animate-wave-reverse {
  animation: wave-reverse 25s ease-in-out infinite;
}

.dark {
  --background: oklch(0.145 0 0);
  --foreground: oklch(0.985 0 0);
  --card: oklch(0.145 0 0);
  --card-foreground: oklch(0.985 0 0);
  --popover: oklch(0.145 0 0);
  --popover-foreground: oklch(0.985 0 0);
  --primary: oklch(0.985 0 0);
  --primary-foreground: oklch(0.205 0 0);
  --secondary: oklch(0.269 0 0);
  --secondary-foreground: oklch(0.985 0 0);
  --muted: oklch(0.269 0 0);
  --muted-foreground: oklch(0.708 0 0);
  --accent: oklch(0.269 0 0);
  --accent-foreground: oklch(0.985 0 0);
  --destructive: oklch(0.396 0.141 25.723);
  --destructive-foreground: oklch(0.637 0.237 25.331);
  --border: oklch(0.269 0 0);
  --input: oklch(0.269 0 0);
  --ring: oklch(0.439 0 0);
  --font-weight-medium: 500;
  --font-weight-normal: 400;
  --chart-1: oklch(0.488 0.243 264.376);
  --chart-2: oklch(0.696 0.17 162.48);
  --chart-3: oklch(0.769 0.188 70.08);
  --chart-4: oklch(0.627 0.265 303.9);
  --chart-5: oklch(0.645 0.246 16.439);
  --sidebar: oklch(0.205 0 0);
  --sidebar-foreground: oklch(0.985 0 0);
  --sidebar-primary: oklch(0.488 0.243 264.376);
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.269 0 0);
  --sidebar-accent-foreground: oklch(0.985 0 0);
  --sidebar-border: oklch(0.269 0 0);
  --sidebar-ring: oklch(0.439 0 0);
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-input-background: var(--input-background);
  --color-switch-background: var(--switch-background);
  --color-ring: var(--ring);
  --color-chart-1: var(--chart-1);
  --color-chart-2: var(--chart-2);
  --color-chart-3: var(--chart-3);
  --color-chart-4: var(--chart-4);
  --color-chart-5: var(--chart-5);
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --color-sidebar: var(--sidebar);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }

  body {
    @apply bg-background text-foreground;
  }
}

/**
 * Base typography. This is not applied to elements which have an ancestor with a Tailwind text class.
 */
@layer base {
  :where(:not(:has([class*=' text-']), :not(:has([class^='text-'])))) {
    h1 {
      font-size: var(--text-2xl);
      font-weight: var(--font-weight-medium);
      line-height: 1.5;
    }

    h2 {
      font-size: var(--text-xl);
      font-weight: var(--font-weight-medium);
      line-height: 1.5;
    }

    h3 {
      font-size: var(--text-lg);
      font-weight: var(--font-weight-medium);
      line-height: 1.5;
    }

    h4 {
      font-size: var(--text-base);
      font-weight: var(--font-weight-medium);
      line-height: 1.5;
    }

    p {
      font-size: var(--text-base);
      font-weight: var(--font-weight-normal);
      line-height: 1.5;
    }

    label {
      font-size: var(--text-base);
      font-weight: var(--font-weight-medium);
      line-height: 1.5;
    }

    button {
      font-size: var(--text-base);
      font-weight: var(--font-weight-medium);
      line-height: 1.5;
    }

    input {
      font-size: var(--text-base);
      font-weight: var(--font-weight-normal);
      line-height: 1.5;
    }
  }
}

html {
  font-size: var(--font-size);
}

@layer base {
  /* Reveal animation for scroll */
  .reveal {
    opacity: 0;
    transform: translateY(24px);
    transition: opacity var(--dur-med) var(--ease-standard),
                transform var(--dur-med) var(--ease-standard);
  }
  
  .reveal.is-visible {
    opacity: 1;
    transform: translateY(0);
  }
  
  /* Smooth scrolling */
  html {
    scroll-behavior: smooth;
  }
  
  @media (prefers-reduced-motion: reduce) {
    html {
      scroll-behavior: auto;
    }
    
    .reveal {
      opacity: 1;
      transform: none;
      transition: none;
    }
  }
}